<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twirl - Chat Transfer</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <span class="icon">üåÄ</span>
        <h1>Twirl</h1>
      </div>
      <p class="subtitle">Chat Transfer Extension</p>
    </header>

    <main class="content">
      <div class="platform-switcher" id="platformSwitcher" style="display: none;">
        <h3>Continue on another platform</h3>
        <div class="platform-buttons">
          <button class="platform-btn" data-platform="chatgpt" data-url="https://chatgpt.com">
            <div class="platform-icon chatgpt-icon">
              <!-- ChatGPT Lucide icon -->
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/>
                <path d="M8 11v1a4 4 0 0 0 8 0v-1"/>
                <path d="M12 18v3"/>
                <path d="M8 22h8"/>
              </svg>
            </div>
            <span>ChatGPT</span>
          </button>
          
          <button class="platform-btn" data-platform="claude" data-url="https://claude.ai">
            <div class="platform-icon claude-icon">
              <!-- Bot Lucide icon -->
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 8V4H8"/>
                <rect width="16" height="12" x="4" y="8" rx="2"/>
                <path d="M2 14h2"/>
                <path d="M20 14h2"/>
                <path d="M15 13v2"/>
                <path d="M9 13v2"/>
              </svg>
            </div>
            <span>Claude</span>
          </button>
          
          <button class="platform-btn" data-platform="perplexity" data-url="https://perplexity.ai">
            <div class="platform-icon perplexity-icon">
              <!-- Search Lucide icon -->
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"/>
                <path d="M21 21l-4.35-4.35"/>
              </svg>
            </div>
            <span>Perplexity</span>
          </button>
          
          <button class="platform-btn" data-platform="gemini" data-url="https://gemini.google.com">
            <div class="platform-icon gemini-icon">
              <!-- Sparkles Lucide icon -->
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
                <path d="M20 3v4"/>
                <path d="M22 5h-4"/>
                <path d="M4 17v2"/>
                <path d="M5 18H3"/>
              </svg>
            </div>
            <span>Gemini</span>
          </button>
        </div>
      </div>

      <div class="status-section">
        <div class="status-indicator" id="statusIndicator">
          <span class="status-dot" id="statusDot"></span>
          <span class="status-text" id="statusText">Loading...</span>
        </div>
      </div>

      <div class="chat-selection" id="chatSelection">
        <h3>Select Chat to Transfer</h3>
        <div class="chat-list" id="chatList">
          <p class="no-data">No chat history found</p>
        </div>
      </div>

      <div class="chat-summary" id="chatSummary" style="display: none;">
        <h3>Selected Chat Preview</h3>
        <div class="summary-content" id="summaryContent">
          <p class="no-data">No chat selected</p>
        </div>
        <div class="chat-meta" id="chatMeta"></div>
      </div>

      <div class="actions">
        <button class="btn btn-primary" id="copyBtn" disabled>
          <span class="btn-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
              <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
            </svg>
          </span>
          Copy to Clipboard
        </button>
        
        <button class="btn btn-secondary" id="refreshBtn">
          <span class="btn-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
              <path d="M21 3v5h-5"/>
              <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
              <path d="M8 16H3v5"/>
            </svg>
          </span>
          Refresh
        </button>
        
        <button class="btn btn-danger" id="clearBtn" disabled>
          <span class="btn-icon">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18"/>
              <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
              <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
            </svg>
          </span>
          Clear Memory
        </button>
      </div>

      <div class="instructions" id="instructions">
        <h4>How to use:</h4>
        <ol>
          <li>Visit <strong>ChatGPT</strong> and have a conversation</li>
          <li>Visit <strong>Claude.ai</strong> to auto-inject the history</li>
          <li>Continue your conversation seamlessly!</li>
        </ol>
      </div>
    </main>

    <footer class="footer">
      <p>Made with ‚ù§Ô∏è for seamless AI conversations</p>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>